# ============================================================
# Admin 应用特定环境变量
# ============================================================

# ============================================================
# NextAuth.js 配置（管理员认证）
# ============================================================
# 🔑 NEXTAUTH_SECRET: 用于签名和加密 JWT、Cookies 和 CSRF tokens
# ⚠️  生产环境必须配置！建议至少 32 个字符的随机字符串
#
# 生成方法:
#   openssl rand -base64 32
#   或在 Node.js 中: require('crypto').randomBytes(32).toString('base64')
#
# 🔒 安全要求:
#   - 必须保密，不要提交到 Git
#   - 每个环境使用不同的密钥
#   - 定期轮换（建议 3-6 个月）
NEXTAUTH_SECRET="your-random-generated-secret-key-here-at-least-32-chars"

# 🌐 NEXTAUTH_URL: NextAuth 基础 URL
# 开发环境: http://localhost:4000
# 生产环境: https://your-domain.com（必须使用 HTTPS）
NEXTAUTH_URL="http://localhost:4000"

# 管理数据库连接（仅管理端使用）
# 包含：管理表（Admin、ImportPlatform、AiConfig、SearchEngineConfig 等）
# 开发环境示例
CACHE_DATABASE_URL="postgresql://admin:password@localhost:5433/rungame_admin?schema=public&connection_limit=5&pool_timeout=10"

# 生产环境示例 (使用 PgBouncer)
# CACHE_DATABASE_URL="postgresql://admin:password@host:6432/rungame_admin?schema=public&pgbouncer=true&connection_limit=10&pool_timeout=20"

# ============================================================
# AI 配置加密密钥
# ============================================================
# 用于加密存储在数据库中的 API Key
# 生成强密钥: openssl rand -base64 48
# 要求：至少 32 个字符，包含大小写字母、数字和特殊字符
ENCRYPTION_KEY="your-super-secret-encryption-key-at-least-32-chars-long-with-special-chars!@#"

# ============================================================
# Cloudflare R2 配置（用于资源上传）
# ============================================================
# 详细配置步骤见 docs/R2-CDN-SETUP.md
# 从 Cloudflare Dashboard -> R2 -> Manage R2 API Tokens 获取
# ⚠️ 注意：实际密钥请配置在 .env.local 中，不要提交到 Git
# R2_ACCOUNT_ID="你的 Account ID（从 R2 终结点 URL 中提取）"
# R2_ACCESS_KEY_ID="你的 R2 Access Key ID"
# R2_SECRET_ACCESS_KEY="你的 R2 Secret Access Key"
# R2_BUCKET_NAME="rungame-assets"
# R2_PUBLIC_URL="https://pub-xxxxxxxxxxxxx.r2.dev"  # 必须设置！从 R2 Bucket 设置中获取公共访问域名

# ============================================================
# 外部 API 配置（通过管理后台配置）
# ============================================================
# ⚠️ 重要：Google Search API 和 Jina Reader API 配置已迁移到数据库
# 请在管理后台进行配置：/admin/external-apis
#
# 优势：
# - ✅ 通过 Web 界面管理，无需修改环境变量
# - ✅ API Key 加密存储在数据库中
# - ✅ 自动记录使用统计和成功率
# - ✅ 配置修改后立即生效，无需重启
# - ✅ 支持多个配置，可快速切换

# ============================================================
# 缓存配置
# ============================================================
# 在开发环境启用数据缓存（默认关闭）
# 启用后可以测试缓存行为，但会导致数据更新延迟
# 生产环境始终启用缓存，此选项仅影响开发环境
# ENABLE_DEV_CACHE="true"
