// Prisma Schema for Admin & Cache Database (Neon)
// ç®¡ç†é…ç½®å’Œç¼“å­˜æ•°æ®ä¸“ç”¨ schema
// åŒ…å«ï¼šç®¡ç†è¡¨ï¼ˆ6ä¸ªï¼‰+ ç¼“å­˜è¡¨ï¼ˆ3ä¸ªï¼‰= å…± 9 ä¸ªè¡¨

generator client {
  provider      = "prisma-client-js"
  output        = "../lib/generated/prisma-client"
  binaryTargets = ["native", "debian-openssl-1.1.x", "debian-openssl-3.0.x", "rhel-openssl-1.1.x", "rhel-openssl-3.0.x", "linux-musl-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("CACHE_DATABASE_URL")
}

// ==================== æšä¸¾å®šä¹‰ ====================

// URLæäº¤çŠ¶æ€æšä¸¾
enum SubmissionStatus {
  PENDING // å¾…æäº¤
  SUBMITTED // å·²æäº¤ï¼ˆç­‰å¾…å“åº”ï¼‰
  SUCCESS // æˆåŠŸ
  FAILED // å¤±è´¥
  RETRYING // é‡è¯•ä¸­
}

// æ‰¹é‡æäº¤ä»»åŠ¡çŠ¶æ€æšä¸¾
enum BatchStatus {
  PENDING // å¾…å¤„ç†
  PROCESSING // å¤„ç†ä¸­
  COMPLETED // å·²å®Œæˆ
  FAILED // å¤±è´¥
  CANCELLED // å·²å–æ¶ˆ
}

// ==================== ç®¡ç†é…ç½®è¡¨ï¼ˆ6ä¸ªï¼‰====================

// ç®¡ç†å‘˜ç”¨æˆ·
model Admin {
  id          String    @id @default(cuid())
  email       String    @unique
  password    String
  name        String?
  role        String    @default("ADMIN") // ADMIN, SUPER_ADMIN
  isActive    Boolean   @default(true) @map("is_active")
  lastLoginAt DateTime? @map("last_login_at")
  createdAt   DateTime  @default(now()) @map("created_at")
  updatedAt   DateTime  @updatedAt @map("updated_at")

  @@index([email])
  @@map("admins")
}

// å¯¼å…¥å¹³å°é…ç½®è¡¨
model ImportPlatform {
  id   String  @id @default(cuid())
  name String // å¹³å°åç§°ï¼ˆå¦‚ï¼šGamePix, CrazyGamesï¼‰
  slug String  @unique // å¹³å°æ ‡è¯†ï¼ˆå¦‚ï¼šgamepix, crazygamesï¼‰
  type String // å¹³å°ç±»å‹ï¼ˆgamepix, crazygames, customï¼‰
  icon String? // å¹³å°å›¾æ ‡

  // API é…ç½®
  apiConfig Json @map("api_config") // å¹³å° API é…ç½®ï¼ˆå¦‚ siteId, apiKey ç­‰ï¼‰

  // é»˜è®¤å¯¼å…¥é…ç½®
  defaultConfig Json? @default("{}") @map("default_config") // é»˜è®¤å¯¼å…¥é€‰é¡¹

  // çŠ¶æ€
  isEnabled Boolean @default(true) @map("is_enabled")
  sortOrder Int     @default(0) @map("sort_order")

  // ç»Ÿè®¡
  totalImported Int       @default(0) @map("total_imported") // æ€»å¯¼å…¥æ¸¸æˆæ•°
  lastImportAt  DateTime? @map("last_import_at") // æœ€åå¯¼å…¥æ—¶é—´

  // æ—¶é—´æˆ³
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  @@index([slug])
  @@index([isEnabled])
  @@index([sortOrder])
  @@map("import_platforms")
}

// AI é…ç½®è¡¨ï¼ˆç²¾ç®€ç‰ˆï¼‰
model AiConfig {
  id String @id @default(cuid())

  // åŸºæœ¬ä¿¡æ¯
  name     String // é…ç½®åç§°ï¼ˆå¦‚ï¼šOpenRouter - Gemini 2.0 Flashï¼‰
  provider String // æä¾›å•†æ ‡è¯†ï¼šopenrouter, openai, anthropic, custom

  // API é…ç½®
  apiKey  String @map("api_key") // API å¯†é’¥
  baseUrl String @map("base_url") // API ç«¯ç‚¹åœ°å€

  // æ¨¡å‹é…ç½®ï¼ˆJSON æ ¼å¼å­˜å‚¨æ‰€æœ‰æ¨¡å‹å’Œå‚æ•°ï¼‰
  modelConfig Json @map("model_config")
  // ç»“æ„ç¤ºä¾‹ï¼š
  // {
  //   "models": [
  //     {
  //       "id": "google/gemini-2.0-flash-exp:free",
  //       "name": "Gemini 2.0 Flash",
  //       "isDefault": true,
  //       "isEnabled": true,
  //       "parameters": {
  //         "temperature": 0.7,
  //         "max_tokens": 2000,
  //         "top_p": 1.0,
  //         "stream": true
  //       },
  //       "headers": {
  //         "HTTP-Referer": "https://rungame.online"
  //       }
  //     }
  //   ]
  // }

  // çŠ¶æ€
  isActive  Boolean @default(false) @map("is_active") // æ˜¯å¦ä¸ºå½“å‰æ¿€æ´»é…ç½®
  isEnabled Boolean @default(true) @map("is_enabled") // æ˜¯å¦å¯ç”¨

  // æ—¶é—´æˆ³
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  @@index([provider])
  @@index([isActive])
  @@index([isEnabled])
  @@map("ai_configs")
}

// å¤–éƒ¨ API é…ç½®è¡¨ï¼ˆJina, Google Search ç­‰ï¼‰
model ExternalApiConfig {
  id String @id @default(cuid())

  // åŸºæœ¬ä¿¡æ¯
  name        String  @unique // é…ç½®åç§°ï¼šgoogle_search, jina_reader, custom_api_name
  displayName String  @map("display_name") // æ˜¾ç¤ºåç§°ï¼šGoogle Search API, Jina Reader API
  description String? @db.Text // æè¿°ä¿¡æ¯
  provider    String // æä¾›å•†ï¼šgoogle, jina, custom

  // API é…ç½®ï¼ˆJSON æ ¼å¼å­˜å‚¨æ‰€æœ‰é…ç½®é¡¹ï¼‰
  // ä½¿ç”¨ JSON æ ¼å¼ä»¥æ”¯æŒä¸åŒ API çš„ä¸åŒé…ç½®éœ€æ±‚
  apiConfig Json @map("api_config")
  // ç»“æ„ç¤ºä¾‹ï¼ˆGoogle Searchï¼‰:
  // {
  //   "apiKey": "[åŠ å¯†çš„ API Key]",
  //   "engineId": "xxx",
  //   "endpoint": "https://www.googleapis.com/customsearch/v1",
  //   "quota": {
  //     "daily": 100,
  //     "current": 23
  //   }
  // }
  //
  // ç»“æ„ç¤ºä¾‹ï¼ˆJina Readerï¼‰:
  // {
  //   "apiKey": "[åŠ å¯†çš„ API Key]",  // å¯é€‰
  //   "endpoint": "https://r.jina.ai",
  //   "timeout": 20,
  //   "options": {
  //     "withGeneratedAlt": true,
  //     "withImagesSummary": true
  //   }
  // }

  // å®‰å…¨æ€§
  isEncrypted Boolean @default(true) @map("is_encrypted") // API Key æ˜¯å¦å·²åŠ å¯†

  // çŠ¶æ€ï¼ˆä¿ç•™å­—æ®µï¼Œä½†ä¸ç”¨äºé€»è¾‘åˆ¤æ–­ï¼‰
  isEnabled Boolean @default(true) @map("is_enabled")
  isActive  Boolean @default(true) @map("is_active")

  // ä½¿ç”¨ç»Ÿè®¡
  totalCalls   Int       @default(0) @map("total_calls") // æ€»è°ƒç”¨æ¬¡æ•°
  successCalls Int       @default(0) @map("success_calls") // æˆåŠŸæ¬¡æ•°
  failedCalls  Int       @default(0) @map("failed_calls") // å¤±è´¥æ¬¡æ•°
  lastUsedAt   DateTime? @map("last_used_at") // æœ€åä½¿ç”¨æ—¶é—´

  // é…é¢ç®¡ç†ï¼ˆå¯é€‰ï¼‰
  quotaConfig Json? @map("quota_config")
  // ç»“æ„ç¤ºä¾‹ï¼š
  // {
  //   "daily": 100,
  //   "monthly": 3000,
  //   "resetDate": "2025-01-01T00:00:00Z"
  // }

  // æ—¶é—´æˆ³
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  @@index([name])
  @@index([provider])
  @@index([isEnabled])
  @@index([isActive])
  @@map("external_api_configs")
}

// æœç´¢å¼•æ“é…ç½®è¡¨
model SearchEngineConfig {
  id String @id @default(cuid())

  // ========== åŸºæœ¬ä¿¡æ¯ ==========
  name String // æœç´¢å¼•æ“åç§°ï¼šBing, Baidu, Yandex, Google
  slug String  @unique // æ ‡è¯†ç¬¦ï¼šbing-indexnow, baidu, yandex, google
  type String // ç±»å‹ï¼šindexnow, baidu, google, custom
  icon String? // å›¾æ ‡URLæˆ–emoji (ğŸ”, ğŸŒ)

  description String? // æè¿°ä¿¡æ¯

  // ========== APIé…ç½® ==========
  apiEndpoint String  @map("api_endpoint") // APIç«¯ç‚¹URL
  apiKey      String? @map("api_key") // APIå¯†é’¥ï¼ˆéœ€åŠ å¯†å­˜å‚¨ï¼‰
  apiToken    String? @map("api_token") // APIä»¤ç‰Œï¼ˆç™¾åº¦ä½¿ç”¨ï¼‰
  siteUrl     String? @map("site_url") // ç½‘ç«™URLï¼ˆç™¾åº¦éœ€è¦ï¼‰

  // ========== é¢å¤–é…ç½®ï¼ˆJSONï¼‰==========
  extraConfig Json? @default("{}") @map("extra_config")

  // ========== çŠ¶æ€é…ç½® ==========
  isEnabled  Boolean @default(true) @map("is_enabled") // æ˜¯å¦å¯ç”¨
  autoSubmit Boolean @default(false) @map("auto_submit") // æ˜¯å¦è‡ªåŠ¨æäº¤ï¼ˆå†…å®¹å‘å¸ƒæ—¶ï¼‰
  sortOrder  Int     @default(0) @map("sort_order") // æ˜¾ç¤ºæ’åº

  // ========== ç»Ÿè®¡æ•°æ® ==========
  totalSubmitted Int       @default(0) @map("total_submitted") // æ€»æäº¤URLæ•°
  totalSuccess   Int       @default(0) @map("total_success") // æ€»æˆåŠŸæ•°
  totalFailed    Int       @default(0) @map("total_failed") // æ€»å¤±è´¥æ•°
  lastSubmitAt   DateTime? @map("last_submit_at") // æœ€åæäº¤æ—¶é—´

  // ========== æ—¶é—´æˆ³ ==========
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  @@index([slug])
  @@index([type])
  @@index([isEnabled])
  @@index([autoSubmit])
  @@index([sortOrder])
  @@map("search_engine_configs")
}

// URLæäº¤è®°å½•è¡¨
model UrlSubmission {
  id String @id @default(cuid())

  // ========== åŸºæœ¬ä¿¡æ¯ ==========
  url      String  // å®Œæ•´URLï¼ŒåŒ…å«è¯­è¨€å‰ç¼€ï¼šhttps://rungame.online/zh/play/puzzle-game
  urlType  String  @map("url_type") // URLç±»å‹ï¼šgame, category, tag, pagetype, sitemap, other
  entityId String? @map("entity_id") // å…³è”å®ä½“IDï¼ˆæ¸¸æˆIDã€åˆ†ç±»IDç­‰ï¼‰ï¼Œç”¨äºæ‰¹é‡æ“ä½œå’Œæ•°æ®æ¸…ç†
  locale   String? // è¯­è¨€ä»£ç ï¼šen, zh, esï¼ˆä»…ä½œæ ‡è®°ï¼Œç”¨äºå‰ç«¯ç­›é€‰å’Œç»Ÿè®¡ï¼‰

  // ========== Google æäº¤çŠ¶æ€ ==========
  googleSubmitStatus        SubmissionStatus? @map("google_submit_status")
  googleSubmitStatusMessage String?           @map("google_submit_status_message")
  googleSubmitHttpStatus    Int?              @map("google_submit_http_status")
  googleSubmitResponseBody  String?           @map("google_submit_response_body")
  googleSubmitResponseTime  Int?              @map("google_submit_response_time")
  googleSubmittedAt         DateTime?         @map("google_submitted_at")

  // ========== Bing æäº¤çŠ¶æ€ ==========
  bingSubmitStatus        SubmissionStatus? @map("bing_submit_status")
  bingSubmitStatusMessage String?           @map("bing_submit_status_message")
  bingSubmitHttpStatus    Int?              @map("bing_submit_http_status")
  bingSubmitResponseBody  String?           @map("bing_submit_response_body")
  bingSubmitResponseTime  Int?              @map("bing_submit_response_time")
  bingSubmittedAt         DateTime?         @map("bing_submitted_at")

  // ========== Google æ”¶å½•çŠ¶æ€ ==========
  indexedByGoogle      Boolean?  @map("indexed_by_google") // å¿«é€ŸæŸ¥è¯¢å­—æ®µï¼ˆverdict === 'PASS'ï¼‰
  googleIndexedAt      DateTime? @map("google_indexed_at")
  googleLastCheckAt    DateTime? @map("google_last_check_at")
  googleCheckMessage   String?   @map("google_check_message")
  googleIndexStatusRaw Json?     @map("google_index_status_raw") // å­˜å‚¨å®Œæ•´çš„ API å“åº”ä¿¡æ¯
  // googleIndexStatusRaw ç»“æ„ç¤ºä¾‹:
  // {
  //   "verdict": "PASS" | "FAIL" | "NEUTRAL",
  //   "indexingState": "INDEXING_ALLOWED" | "BLOCKED_BY_META_TAG" | "BLOCKED_BY_HTTP_HEADER",
  //   "coverageState": "Submitted and indexed" | "Crawled - currently not indexed",
  //   "pageFetchState": "...",
  //   "robotsTxtState": "...",
  //   "lastCrawlTime": "..."
  // }

  // ========== Bing æ”¶å½•çŠ¶æ€ ==========
  indexedByBing      Boolean?  @map("indexed_by_bing") // å¿«é€ŸæŸ¥è¯¢å­—æ®µ
  bingIndexedAt      DateTime? @map("bing_indexed_at")
  bingLastCheckAt    DateTime? @map("bing_last_check_at")
  bingCheckMessage   String?   @map("bing_check_message")
  bingIndexStatusRaw Json?     @map("bing_index_status_raw") // å­˜å‚¨å®Œæ•´çš„ API å“åº”ä¿¡æ¯

  // ========== æ—¶é—´æˆ³ ==========
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  // ========== ç´¢å¼• ==========
  @@unique([url], name: "unique_url") // URL æœ¬èº«å·²åŒ…å«è¯­è¨€å‰ç¼€ï¼Œä¿è¯å…¨å±€å”¯ä¸€
  @@index([url])
  @@index([urlType])
  @@index([entityId])
  @@index([locale])
  @@index([indexedByGoogle])
  @@index([indexedByBing])
  @@index([googleLastCheckAt])
  @@index([bingLastCheckAt])
  @@index([createdAt])
  @@map("url_submissions")
}

// æ‰¹é‡æäº¤ä»»åŠ¡è¡¨
model SubmissionBatch {
  id String @id @default(cuid())

  // ========== æ‰¹æ¬¡ä¿¡æ¯ ==========
  name        String // æ‰¹æ¬¡åç§°ï¼šå¦‚ "å‘å¸ƒæ‰€æœ‰æ¸¸æˆåˆ°Bing"
  description String? // æ‰¹æ¬¡æè¿°
  status      BatchStatus @default(PENDING)

  // ========== ç»Ÿè®¡ä¿¡æ¯ ==========
  totalUrls     Int @default(0) @map("total_urls") // æ€»URLæ•°
  processedUrls Int @default(0) @map("processed_urls") // å·²å¤„ç†æ•°
  successUrls   Int @default(0) @map("success_urls") // æˆåŠŸæ•°
  failedUrls    Int @default(0) @map("failed_urls") // å¤±è´¥æ•°
  pendingUrls   Int @default(0) @map("pending_urls") // å¾…å¤„ç†æ•°

  // ========== é…ç½®ä¿¡æ¯ ==========
  searchEngineConfigIds String[] @default([]) @map("search_engine_config_ids") // ç›®æ ‡æœç´¢å¼•æ“IDåˆ—è¡¨

  // URLç­›é€‰æ¡ä»¶ï¼ˆJSONï¼‰
  urlFilters Json? @default("{}") @map("url_filters")

  // ========== æ‰§è¡Œä¿¡æ¯ ==========
  startedAt   DateTime? @map("started_at") // å¼€å§‹å¤„ç†æ—¶é—´
  completedAt DateTime? @map("completed_at") // å®Œæˆæ—¶é—´
  cancelledAt DateTime? @map("cancelled_at") // å–æ¶ˆæ—¶é—´

  errorMessage String? @map("error_message") // é”™è¯¯ä¿¡æ¯ï¼ˆå¦‚æœå¤±è´¥ï¼‰

  createdBy String @map("created_by") // åˆ›å»ºäººï¼ˆç®¡ç†å‘˜IDæˆ– "system"ï¼‰

  // ========== æ—¶é—´æˆ³ ==========
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  @@index([status])
  @@index([createdAt])
  @@index([createdBy])
  @@map("submission_batches")
}

// ==================== ç¼“å­˜æ•°æ®è¡¨ï¼ˆ3ä¸ªï¼‰====================

// GamePix æ¸¸æˆç¼“å­˜è¡¨
model GamePixGameCache {
  id             String   @id // GamePix æ¸¸æˆ ID
  namespace      String   @unique // æ¸¸æˆçš„å”¯ä¸€æ ‡è¯†ç¬¦
  title          String // æ¸¸æˆæ ‡é¢˜
  description    String   @db.Text // æ¸¸æˆæè¿°
  category       String // æ¸¸æˆåˆ†ç±»
  quality_score  Float // è´¨é‡è¯„åˆ† 0-1
  banner_image   String // æ¸¸æˆå°é¢ URL
  image          String // æ¸¸æˆå›¾æ ‡ URL
  url            String // æ¸¸æˆæ¸¸ç© URL
  width          Int // æ¸¸æˆæ¡†æ¶å®½åº¦
  height         Int // æ¸¸æˆæ¡†æ¶é«˜åº¦
  orientation    String // æ¸¸æˆæ–¹å‘ landscape/portrait
  date_published DateTime // å‘å¸ƒæ—¥æœŸ
  date_modified  DateTime // ä¿®æ”¹æ—¥æœŸ

  // è‡ªå®šä¹‰ç®¡ç†å­—æ®µ
  isImported     Boolean   @default(false) // æ˜¯å¦å·²å¯¼å…¥åˆ°ç”Ÿäº§æ•°æ®åº“
  importCount    Int       @default(0) // å¯¼å…¥æ¬¡æ•°ç»Ÿè®¡
  lastImportedAt DateTime? // æœ€åå¯¼å…¥æ—¶é—´
  customTags     String[]  @default([]) // è‡ªå®šä¹‰æ ‡ç­¾
  notes          String?   @db.Text // å¤‡æ³¨ä¿¡æ¯
  priority       Int       @default(0) // ä¼˜å…ˆçº§ 0-10
  isHidden       Boolean   @default(false) // æ˜¯å¦éšè—ï¼ˆä¸æ˜¾ç¤ºåœ¨åˆ—è¡¨ï¼‰

  // ç½‘é¡µæå–æ•°æ®ç¼“å­˜
  extractedTags        String[]  @default([]) // ä»æ¸¸æˆç½‘é¡µæå–çš„æ ‡ç­¾
  extractedMarkdown    String?   @db.Text // ä»æ¸¸æˆç½‘é¡µæå–çš„ Markdown å†…å®¹
  extractedVideos      String[]  @default([]) // ä»æ¸¸æˆç½‘é¡µæå–çš„è§†é¢‘ URL åˆ—è¡¨
  extractedScreenshots String[]  @default([]) // ä»æ¸¸æˆç½‘é¡µæå–çš„æˆªå›¾ URL åˆ—è¡¨
  extractedAt          DateTime? // æå–æ—¶é—´

  // åŒæ­¥ç›¸å…³
  lastSyncAt DateTime @default(now()) // æœ€ååŒæ­¥æ—¶é—´
  syncSource String   @default("gamepix") // æ•°æ®æ¥æº

  // æ—¶é—´æˆ³
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // ç´¢å¼•ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½
  @@index([category])
  @@index([quality_score])
  @@index([isImported])
  @@index([lastSyncAt])
  @@index([priority])
  @@index([date_published])
  @@map("gamepix_games_cache")
}

// åŒæ­¥æ—¥å¿—è¡¨
model SyncLog {
  id           String   @id @default(cuid())
  totalGames   Int // æœ¬æ¬¡åŒæ­¥çš„æ¸¸æˆæ€»æ•°
  newGames     Int // æ–°å¢æ¸¸æˆæ•°
  updatedGames Int // æ›´æ–°æ¸¸æˆæ•°
  deletedGames Int      @default(0) // åˆ é™¤æ¸¸æˆæ•°
  status       String // success, failed, partial
  errorMessage String?  @db.Text // é”™è¯¯ä¿¡æ¯
  syncDuration Int? // åŒæ­¥è€—æ—¶ï¼ˆæ¯«ç§’ï¼‰
  apiParams    Json? // åŒæ­¥æ—¶ä½¿ç”¨çš„ API å‚æ•°
  syncedAt     DateTime @default(now())

  @@index([syncedAt])
  @@index([status])
  @@map("sync_logs")
}

// AI å¯¹è¯å†å²è¡¨
model AiChatHistory {
  id String @id @default(cuid())

  // å…³è”ä¿¡æ¯
  gameId  String  @map("game_id") // æ¸¸æˆ IDï¼ˆä¸»æ•°æ®åº“çš„æ¸¸æˆ IDï¼‰
  locale  String // è¯­è¨€ä»£ç ï¼ˆen, zh, es ç­‰ï¼‰
  adminId String? @map("admin_id") // ç®¡ç†å‘˜ IDï¼ˆå¯é€‰ï¼Œç”¨äºè¿½è¸ªè°åˆ›å»ºçš„å¯¹è¯ï¼‰

  // å¯¹è¯å†…å®¹
  messages Json // å¯¹è¯æ¶ˆæ¯æ•°ç»„ [{ role, content }, ...]

  // å…ƒæ•°æ®
  templateId String? @map("template_id") // ä½¿ç”¨çš„æç¤ºè¯æ¨¡æ¿ IDï¼ˆå¯é€‰ï¼‰
  context    Json? // å¯¹è¯ä¸Šä¸‹æ–‡ï¼ˆkeywords, selectedText ç­‰ï¼‰

  // ç»Ÿè®¡ä¿¡æ¯
  messageCount Int @default(0) @map("message_count") // æ¶ˆæ¯æ•°é‡
  totalTokens  Int @default(0) @map("total_tokens") // ç´¯è®¡ token æ¶ˆè€—ï¼ˆä¼°ç®—ï¼‰

  // æ—¶é—´ç®¡ç†
  createdAt  DateTime @default(now()) @map("created_at")
  updatedAt  DateTime @updatedAt @map("updated_at")
  lastUsedAt DateTime @default(now()) @map("last_used_at") // æœ€åä½¿ç”¨æ—¶é—´
  expiresAt  DateTime @map("expires_at") // è¿‡æœŸæ—¶é—´ï¼ˆ7å¤©åè‡ªåŠ¨æ¸…ç†ï¼‰

  // ç´¢å¼•ä¼˜åŒ–
  @@unique([gameId, locale]) // æ¯ä¸ªæ¸¸æˆçš„æ¯ä¸ªè¯­è¨€åªæœ‰ä¸€ä¸ªå¯¹è¯å†å²
  @@index([adminId])
  @@index([lastUsedAt])
  @@index([expiresAt])
  @@index([createdAt])
  @@map("ai_chat_history")
}
